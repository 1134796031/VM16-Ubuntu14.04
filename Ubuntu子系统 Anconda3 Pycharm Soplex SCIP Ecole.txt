1、安装Anaconda3
在物理机上下载Anaconda3-2022.05-Linux-x86_64.sh
将该文件复制到虚拟机的Downloads目录下
打开Terminal执行以下命令以安装anaconda
cd Downloads/
bash Anaconda3-2022.05-Linux-x86_64.sh
cd /
cd home/mxk/anaconda3/
conda list

为conda命令配置环境变量
sudo gedit ~/.bashrc
找到anaconda3的位置，在最后一行新加一行
export PATH=$PATH:/home/root/anaconda3/bin
保存并退出后激活用户目录
source ~/.bashrc

打开anaconda的可视化界面
anaconda-navigator

打开AncondaPrompt
cd /
cd home/mxk/anaconda3/
conda activate
退出AnacondaPrompt
conda deactivate

2、安装pycharm
在物理机上下载pycharm-community-2021.1.3.tar.gz
将该文件复制到虚拟机的Downloads目录下，并extract在Downloads目录下
打开Terminal执行以下命令以安装Pycharm
sudo apt-get install realpath
cd Downloads/pycharm-community-2021.1.3/bin/
sh ./pycharm.sh
Continue->Dontsend->齿轮->CreateDesktopEntry

在Pycharm中新建project并使用anaconda3所属的python环境
Interpreter：/home/mxk/anaconda3/bin/python3.9
CondaExecutable：/home/mxk/anaconda3/bin/conda

3、安装cuda-cudnn-torch

4、安装SoPlex、SCIP、ds4dm_PySCIPOpt、ecole
设置安装目录：
export SCIPOPTDIR='/opt/scip'

4.1、下载并安装soplex-4.0.1
cd PycharmProjects/BB
tar -xzf soplex-4.0.1.tgz
cd soplex-4.0.1/
mkdir build
cmake -S . -B build -DCMAKE_INSTALL_PREFIX=$SCIPOPTDIR
make -C ./build -j 4
sudo make -C ./build install
cd ..

4.2、下载并安装scip-6.0.1
tar -xzf scip-6.0.1.tgz
cd scip-6.0.1/
patch -p1 < ../learn2branch/scip_patch/vanillafullstrong.patch
mkdir build
cmake -S . -B build -DSOPLEX_DIR=$SCIPOPTDIR -DCMAKE_INSTALL_PREFIX=$SCIPOPTDIR
make -C ./build -j 4
sudo make -C ./build install
cd ..

为scip和soplex配置环境，在.bashrc的最后一行添加下面语句
sudo gedit ~/.bashrc
export PATH=$PATH:/opt/scip/bin
source ~/.bashrc

4.3、安装本地的ds4dm_PySCIPOpt
下载下面的项目并将其中的PySCIPOpt文件夹复制到虚拟机桌面
https://github.com/linjc16/TBranT
将桌面的PySCIPOpt文件夹复制到项目路径下(如TBranT)
sudo cp -r /home/mxk/Desktop/PySCIPOpt/ /home/mxk/PycharmProjects/TBranT/
再执行以下命令
cd /home/mxk/PycharmProjects/TBranT/PySCIPOpt
export SCIPOPTDIR='/opt/scip'
python setup.py install

4.4、安装本地的ecole
首先需要本地安装Cmake>=3.15,gcc/g++>=9.1,SCIP,python,numpy
下载下面的项目并将其中的ecole文件夹复制到虚拟机桌面
https://github.com/pandat8/ML4LB
将桌面的ecole文件夹复制到项目路径下(如TBranT)
sudo cp -r /home/mxk/Desktop/ecole/ /home/mxk/PycharmProjects/TBranT/
再执行以下命令
cd /home/mxk/PycharmProjects/TBranT/ecole
cd /home/mxk/Desktop/ecole
cmake -B build/
cmake --build build/ --parallel
python -m pip install build/python